# Please note that the intervals and times specified in this file are in *seconds*

# The URL of the caching directory under the root directory
capture.filesystem.cache.url=${org.opencastproject.storage.dir}/cache/
# The URL of the volatile directory under the root directory
capture.filesystem.volatile.url=${org.opencastproject.storage.dir}/volatile/
# The root URL where the captures should be stored prior to ingest
capture.filesystem.cache.capture.url=${capture.filesystem.cache.url}/captures/

# The remote URL where the capture schedule should be retrieved
capture.schedule.remote.endpoint.url=${org.opencastproject.server.url}/scheduler/rest/getCalendarForCaptureAgent
# The time between attempts to fetch updated calendar data
capture.schedule.remote.polling.interval=60
# The local URL of the cached copy of the capture schedule
capture.schedule.cache.url=${capture.filesystem.cache.url}/schedule.ics

# Location of a centralized configuration file
capture.config.remote.endpoint.url=
# The time to wait between updating the local copy of the configuration
capture.config.remote.polling.interval=600
# The file to cache the server config, if any
capture.config.cache.url=${capture.filesystem.cache.url}/capture.properties

# The name of the agent
capture.agent.name=demo_capture_agent
# The URL of the remote state service
capture.agent.state.remote.endpoint.url=${org.opencastproject.server.url}/capture-admin/rest/agents
# The time between attempts to push the agent's state to the state service
capture.agent.state.remote.polling.interval=10
# The time between attempts to push the agent's capabilities to the state service
capture.agent.capabilities.remote.polling.interval=10

# The URL of the remote recording state service
capture.recording.state.remote.endpoint.url=${org.opencastproject.server.url}/capture-admin/rest/recordings

# The URL to send the capture data to during ingest
capture.ingest.endpoint.url=${org.opencastproject.server.url}/ingest/rest/addZippedMediaPackage
# The retry interval for attempting ingest
capture.ingest.retry.interval=300

# The maximum length of a capture, defaults to 8 hours (28800 seconds)
capture.max.length=28800

# The default time between subsequent executions of the capture cleaner
capture.cleaner.interval=3600
# The default minimum available disk space, under which recordings are erased from the system
# IN BYTES
capture.cleaner.mindiskspace=536870912
# The default maximum time (in days) a recording should be kept if there's enough disk space available
capture.cleaner.maxarchivaldays=1

# confidence monitoring outputs images to this directory
capture.confidence.video.location=${org.opencastproject.storage.dir}/volatile/

# The following lines create three example inputs for the capture agent, often
# refered to as the "mock agent" for testing purposes.  Each input consists of:
# 1:  The source, in this case a file which is listed in the project pom.xml 
#     as a dependency. To use a real device instead you would put the linux 
#     device identifier on this line (eg:  /dev/my_capture_card).
# 2:  The output file name. This can be pretty much anything, though best
#     practice is to have the extension match the appropriate value for the
#     source/container format (e.g. .mpg if using mpegtsmux).
# 3:  The flavour of the input. This flavour must be defined from options given
#     in org.opencastproject.media.mediapackage.MediaPackageElements.  Known
#     good examples include:
#          presenter/source
#          presentation/source
#          audience/source
#          presentation/source
#          documents/source
#          indefinite/source
#
# To make a new input device available to the capture agent you must assign it
# a unique name (without whitespace or punctuation) that will show up in the
# administrative user interface.  For instance, the following lines will make a
# device called "audience_camera" available in the administrative interface:
#     capture.device.names=audience_camera
#     capture.device.audience_camera.src=/dev/video0
#     capture.device.audience_camera.outputfile=audience.mpg
#     capture.device.audience_camera.flavor=presentation/source
#
# Codecs, containers, and bitrates for devices can be specified as follows:
#     capture.device.audience_camera.codec=ffenc_mpeg2video
#     capture.device.audience_camera.codec.bitrate=2048
#     capture.device.audience_camera.container=mpegtsmux
# 
# Codecs must be  gstreamer encoders capable of accepting video/x-raw-yuv.  The
# codec bitrate is set relative to the encoder, because many encoders are written 
# by different people they do not agree on a standard format such as bps
# therefore you will have to determine what prefix the encoder uses. This can be
# done by executing "gst-inspect x264enc" and looking at what format the codec
# expects for its bitrate (in this case, kbit/sec).
#
# Known good codecs include:
#     MPEG2: "ffenc_mpeg2video" with values in bits/sec
#     H264: "x264enc" with values in kilobits/sec
#     Ogg Theora: "theoraenc" with values in kilobits/sec
#     MP2 Audio: "twolame" with values in kilobits/sec
#     MP3: "lame" with values in kilobits/sec
#     Ogg Vorbis: "vorbisenc" with values in bits/sec
#
# Known good containers include:
#     MPEG2 Transport Steam: "mpegtsmux"
#     MPEG4 Layer 2: "ffmux_mp4"
#     Ogg: "oggmux"
#     Quicktime: "ffmux_mov"

# Default the names of the mock devices
capture.device.names=MOCK_SCREEN,MOCK_PRESENTER,MOCK_MICROPHONE

#Create the screen capture
capture.device.MOCK_SCREEN.src=${M2_REPO}/org/opencastproject/samples/screen/1.0/screen-1.0.mpg
capture.device.MOCK_SCREEN.outputfile=screen_out.mpg
capture.device.MOCK_SCREEN.flavor=presentation/source
capture.device.MOCK_SCREEN.codec=ffenc_mpeg2video
capture.device.MOCK_SCREEN.codec.bitrate=1024
capture.device.MOCK_SCREEN.codec.container=mpegtsmux

#Create the presenter capture
capture.device.MOCK_PRESENTER.src=${M2_REPO}/org/opencastproject/samples/camera/1.0/camera-1.0.mpg
capture.device.MOCK_PRESENTER.outputfile=camera_out.mpg
capture.device.MOCK_PRESENTER.flavor=presentation/source
capture.device.MOCK_PRESENTER.codec=ffenc_mpeg2video
capture.device.MOCK_PRESENTER.codec.bitrate=1024
capture.device.MOCK_PRESENTER.codec.container=mpegtsmux

#Create the audio capture
capture.device.MOCK_MICROPHONE.src=${M2_REPO}/org/opencastproject/samples/audio/1.0/audio-1.0.mp3
capture.device.MOCK_MICROPHONE.outputfile=audio_out.mp3
capture.device.MOCK_MICROPHONE.flavor=presentation/source
capture.device.MOCK_MICROPHONE.codec=twolame
capture.device.MOCK_MICROPHONE.codec.bitrate=192
capture.device.MOCK_MICROPHONE.codec.container=mpegtsmux
